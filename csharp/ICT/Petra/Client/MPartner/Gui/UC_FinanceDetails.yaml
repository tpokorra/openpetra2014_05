RootNode:
    BaseClass: System.Windows.Forms.UserControl
    UtilObjectClass: TFrmPetraEditUtils
    Namespace: Ict.Petra.Client.MPartner.Gui
    DatasetType: Ict.Petra.Shared.MPartner.Partner.Data.PartnerEditTDS
    DetailTable: PBankingDetails
    UsingNamespaces: [Ict.Petra.Shared.MPartner.Partner.Data, Ict.Petra.Shared.MPartner.Partner.Validation]
    FormType: edit
    Template: controlMaintainTable
    Actions:
        actNew: {Label=&New, ActionClick=NewRow}
        actShare: {Label=&Share Existing Bank Account, ActionClick=ShareExistingBankAccount}
        actDelete: {Label=&Delete, SkipReferenceCheck=true, ActionClick=DeleteRecord}
        actSetMainAccount: {ActionClick=SetMainAccount}
        actCopyPartnerName: {Label=<- Partner's Name, ActionClick=CopyPartnerName}
    Controls:
        pnlContent:
            Controls: [grpBankAccounts, grpDonorGiftReceipting, grpRecipientGiftReceipting, grpOther]
            Dock: Fill
        grpDonorGiftReceipting:
            Label: Gift Processing (for donors)
            Dock: Top
            Controls:
                Row0: [cmbReceiptLetterFrequency]
                Row1: [chkReceiptEachGift]
                Row2: [chkAnonymousDonor]
        cmbReceiptLetterFrequency: {List=FrequencyList, Width=105}
        chkReceiptEachGift:
            Label: Printed Receipt for Each Gift
        chkAnonymousDonor:
        grpRecipientGiftReceipting:
            Dock: Top
            Controls:
                Row0: [chkEmailGiftStatement]
        chkEmailGiftStatement:
            Label: Email Recipient Gift Statement
        grpOther:
            Dock: Top
            Controls: [txtFinanceComment]
        txtFinanceComment:
            Multiline: true
            Height: 60
            Stretch: horizontally
        grpBankAccounts:
            Controls: [pnlGrid, pnlDetails]
            Dock: Top
            Height: 270
        pnlGrid:
            Dock: Fill
            Height: 140
            Controls: [pnlButtons, grdDetails]
        pnlButtons:
            Dock: Bottom
            Controls: [btnNew, btnShare, btnDelete, btnSetMainAccount]
            ControlsOrientation: horizontal
        btnNew: {Width=80}
            Action: actNew
        btnShare:
            Action: actShare
        btnDelete: {Width=80}
            Action: actDelete
        btnSetMainAccount: {Width=120, StartNewButtonGroup=true, Enabled=false}
            Action: actSetMainAccount
        grdDetails:
            Dock: Fill
            Height: 140
            TableName: PBankingDetails
            Columns: [MainAccount, AccountName, BankAccountNumber, Iban]
            CustomColumns:
                MainAccount: {Label=Main Account, Type=Boolean}
            ActionFocusRow: FocusedRowChanged
            ActionDoubleClick: actSetMainAccount
            
        pnlDetails: 
            Dock: Bottom
            Type: Ict.Petra.Client.MPartner.Gui.TUC_FinanceDetails
            Height: 130
            Controls: [grpAccountDetail]
            Visible: false
            
        grpAccountDetail: {Label=Account Detail, Dock=Fill}
            Controls: 
                Row0: [txtAccountName, btnCopyPartnerName]
                Row1: [txtBankAccountNumber]
                Row2: [txtIban]
                Row3: [txtBankKey]

        txtAccountName:
            Label: Account Name
            Width: 275
            OnEnter: CheckIfRowIsShared
        btnCopyPartnerName:
            Action: actCopyPartnerName
            Padding: -115,0,0,0
            OnEnter: CheckIfRowIsShared
        txtBankAccountNumber:
            Label: Bank Account Number
            Width: 160
            OnEnter: CheckIfRowIsShared
        txtIban:
            Label: IBAN
            Width: 275
            OnEnter: CheckIfRowIsShared
        txtBankKey:
            Label: Bank
            Type: PartnerKey
            PartnerClass: BANK
            OnEnter: CheckIfRowIsShared
